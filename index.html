<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RITUAL - Games & Challenges</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('images/RITUAL LOGO.jpeg');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
            zoom: 0.8;
            padding-bottom: 100px;
        }

        .container {
            max-width: 1600px;
            width: 100%;
            display: grid;
            grid-template-columns: 280px 1fr 280px;
            gap: 15px;
            align-items: flex-start;
        }

        .teams-sidebar {
            display: flex;
            flex-direction: column;
            gap: 15px;
            position: sticky;
            top: 20px;
            height: fit-content;
        }

        .teams-sidebar-right {
            display: flex;
            flex-direction: column;
            gap: 15px;
            position: sticky;
            top: 20px;
            height: fit-content;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: #fff;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .team-box {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid;
        }

        .team-box.teamA {
            border-left-color: #667eea;
        }

        .team-box.teamB {
            border-left-color: #f5576c;
        }

        .team-box h3 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.3em;
            color: #333;
        }

        .team-box.teamA h3 {
            color: #667eea;
        }

        .team-box.teamB h3 {
            color: #f5576c;
        }

        .team-members-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }

        .team-member-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f9f9f9;
            padding: 10px;
            border-radius: 6px;
            border-left: 3px solid;
            font-size: 0.9em;
        }

        .team-member-item.teamA {
            border-left-color: #667eea;
        }

        .team-member-item.teamB {
            border-left-color: #f5576c;
        }

        .team-member-name {
            flex: 1;
            font-weight: 500;
            color: #333;
            word-break: break-word;
        }

        .team-member-remove {
            background: #ff6b6b;
            border: none;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.2s;
            flex-shrink: 0;
            margin-left: 8px;
        }

        .team-member-remove:hover {
            background: #ff5252;
        }

        .team-member-remove:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .team-input-group {
            display: flex;
            gap: 6px;
            margin-bottom: 12px;
            flex-direction: column;
        }

        .team-input-group input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9em;
        }

        .team-input-group input:disabled {
            background: #f0f0f0;
            cursor: not-allowed;
        }

        .team-input-group button {
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s;
            background: #667eea;
            color: white;
            font-size: 0.9em;
        }

        .team-input-group button:hover:not(:disabled) {
            background: #5568d3;
            transform: translateY(-2px);
        }

        .team-input-group button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .team-box.teamB .team-input-group button {
            background: #f5576c;
        }

        .team-box.teamB .team-input-group button:hover:not(:disabled) {
            background: #e84655;
        }

        .team-count {
            text-align: center;
            font-size: 0.85em;
            color: #666;
            font-weight: bold;
        }

        .teams-locked-message {
            text-align: center;
            color: #f44336;
            font-weight: bold;
            padding: 8px;
            background: #ffebee;
            border-radius: 6px;
            display: none;
            margin-top: 8px;
            font-size: 0.85em;
        }

        .teams-locked-message.show {
            display: block;
        }

        .section-selector {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .section-btn {
            padding: 15px 30px;
            font-size: 1.1em;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transition: transform 0.3s, box-shadow 0.3s;
            font-weight: bold;
        }

        .section-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .section-btn.active {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            display: none;
        }

        .content.active {
            display: block;
            animation: slideIn 0.4s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .timer-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }

        .timer {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }

        .timer.warning {
            color: #ff9800;
        }

        .timer.danger {
            color: #f44336;
        }

        /* Puzzle Section Styles */
        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin: 30px 0;
        }

        /* Geography Quiz Styles */
        .geography-progress {
            margin: 20px 0;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 8px;
            text-align: center;
        }

        .geography-question-card {
            background: white;
            padding: 30px;
            border-radius: 8px;
            margin: 30px 0;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .geo-location-info {
            text-align: center;
            margin-bottom: 30px;
        }

        .geo-location-info h3 {
            font-size: 1.5em;
            color: #333;
            margin-bottom: 20px;
        }

        .location-image-placeholder {
            width: 100%;
            height: 250px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 20px;
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
        }

        .geo-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 30px 0;
        }

        .geo-option-btn {
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .geo-option-btn:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .geo-option-btn .option-label {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }

        .geo-option-btn .option-text {
            flex: 1;
        }

        .geo-option-btn.correct {
            border-color: #4caf50;
            background: #e8f5e9;
        }

        .geo-option-btn.correct .option-label {
            background: #4caf50;
        }

        .geo-option-btn.wrong {
            border-color: #f44336;
            background: #ffebee;
        }

        .geo-option-btn.wrong .option-label {
            background: #f44336;
        }

        .geo-option-btn:disabled {
            cursor: default;
        }

        .geo-navigation {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .puzzle-piece {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            transition: transform 0.2s, box-shadow 0.2s;
            user-select: none;
        }

        .puzzle-piece:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .puzzle-piece.selected {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            box-shadow: 0 0 15px rgba(245, 87, 108, 0.6);
        }

        .puzzle-piece.completed {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            cursor: default;
        }

        .puzzle-progress {
            margin: 20px 0;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 8px;
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #ddd;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Quiz Section Styles */
        .quiz-setup {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: 'Arial', sans-serif;
            font-size: 1em;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .question-entry {
            background: white;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
        }

        .question-entry h4 {
            margin-bottom: 10px;
            color: #667eea;
        }

        .option-input {
            display: flex;
            gap: 10px;
            margin-bottom: 8px;
            align-items: center;
        }

        .option-input input {
            flex: 1;
        }

        .option-input label {
            margin: 0;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
            font-size: 1em;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-danger {
            background: #f44336;
            color: white;
        }

        .btn-danger:hover {
            background: #da190b;
        }

        .btn-success {
            background: #4caf50;
            color: white;
        }

        .btn-success:hover {
            background: #45a049;
        }

        .btn-secondary {
            background: #999;
            color: white;
        }

        .btn-secondary:hover {
            background: #777;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quiz-display {
            display: none;
        }

        .quiz-display.active {
            display: block;
        }

        .question-card {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .question-card h3 {
            margin-bottom: 20px;
            color: #333;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }

        .option:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .option.selected {
            border-color: #667eea;
            background: #e8eef7;
            font-weight: bold;
        }

        .option input[type="radio"] {
            margin-right: 10px;
        }

        .quiz-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            text-align: center;
        }

        .quiz-score h3 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .quiz-score p {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .submission-area {
            text-align: center;
            padding: 30px;
            background: #f9f9f9;
            border-radius: 8px;
            margin-top: 30px;
        }

        .submission-area.active {
            background: #f0f8ff;
            border: 2px solid #667eea;
        }

        .submission-status {
            font-size: 1.2em;
            font-weight: bold;
            margin: 15px 0;
        }

        .submission-status.success {
            color: #4caf50;
        }

        .submission-status.waiting {
            color: #999;
        }

        .submission-status.completed {
            color: #667eea;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }

            .content {
                padding: 20px;
            }

            .section-selector {
                gap: 10px;
            }

            .section-btn {
                padding: 12px 20px;
                font-size: 1em;
            }

            .puzzle-grid {
                grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
                gap: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Team A Sidebar (Left) -->
        <div class="teams-sidebar" id="teamsSidebar">
            <div class="team-box teamA">
                <h3>Team A</h3>
                <div class="team-input-group">
                    <input type="text" id="teamAInput" placeholder="Enter name" maxlength="20">
                    <button id="addTeamABtn" onclick="addTeamMember('A')">Add</button>
                </div>
                <div class="team-members-list" id="teamAList"></div>
                <div class="team-count" id="teamACount">0 / 10 members</div>
                <div class="teams-locked-message" id="teamALocked">Teams locked</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1>RITUAL</h1>
                <p>Games & Challenges</p>
            </div>

            <div class="section-selector">
            <button class="section-btn active" onclick="switchSection('puzzle')">Geography Quizzes</button>
            <button class="section-btn" onclick="switchSection('quiz')">Quiz Time</button>
            <button class="section-btn" onclick="switchSection('logo')">Logo Quizzes</button>
        </div>

        <!-- Geography Quizzes Section -->
        <div id="puzzle" class="content active">
            <div class="timer-section">
                <h2>Geography Quizzes</h2>
                <div class="timer" id="puzzleTimer">10:00</div>
            </div>

            <div id="geographyQuiz">
                <div id="geoStartScreen" style="text-align: center; padding: 60px 20px;">
                    <h2 style="font-size: 2.5em; margin-bottom: 20px; color: #333;">Geography Quizzes</h2>
                    <p style="font-size: 1.2em; color: #666; margin-bottom: 30px;">Challenge yourself with 40 geography questions</p>
                    <div style="background: #f0f4ff; padding: 30px; border-radius: 8px; margin: 30px 0; max-width: 500px; margin-left: auto; margin-right: auto;">
                        <p style="font-size: 1.1em; margin: 10px 0;"><strong>üìù 40 Questions</strong></p>
                        <p style="font-size: 1.1em; margin: 10px 0;"><strong>‚è±Ô∏è 20 Seconds per Question</strong></p>
                        <p style="font-size: 1.1em; margin: 10px 0;"><strong>üåç Various Difficulty Levels</strong></p>
                    </div>
                    <button class="btn btn-primary" onclick="startGeographyQuiz()" style="font-size: 1.1em; padding: 15px 40px; margin-top: 30px;">Start Geography Quiz</button>
                </div>

                <div id="geoQuizContent" style="display: none;">
                    <div class="geography-progress">
                        <p id="geoStatus">Answer geography questions</p>
                        <div class="progress-bar">
                            <div class="progress-fill" id="geoProgress"></div>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                            <p id="geoCount">Question 1 of 40</p>
                            <div id="questionTimer" style="font-size: 1.5em; font-weight: bold; color: #667eea; min-width: 50px; text-align: right;">20s</div>
                        </div>
                    </div>

                    <div class="geography-question-card">
                        <div class="geo-location-info">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <h3 id="geoQuestion" style="margin: 0; flex: 1;">What is this famous landmark?</h3>
                                <div id="teamIndicator" style="background: #667eea; color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 0.9em;">Team A</div>
                            </div>
                            <div id="geoLocationImage" class="location-image-placeholder">
                                üìç Geographic Location
                            </div>
                        </div>

                        <div class="geo-options">
                            <button class="geo-option-btn" onclick="selectGeoAnswer(0, 'A')">
                                <span class="option-label">A</span>
                                <span class="option-text" id="optionA">Option A</span>
                            </button>
                            <button class="geo-option-btn" onclick="selectGeoAnswer(1, 'B')">
                                <span class="option-label">B</span>
                                <span class="option-text" id="optionB">Option B</span>
                            </button>
                            <button class="geo-option-btn" onclick="selectGeoAnswer(2, 'C')">
                                <span class="option-label">C</span>
                                <span class="option-text" id="optionC">Option C</span>
                            </button>
                            <button class="geo-option-btn" onclick="selectGeoAnswer(3, 'D')">
                                <span class="option-label">D</span>
                                <span class="option-text" id="optionD">Option D</span>
                            </button>
                        </div>

                        <div class="geo-navigation">
                            <button class="btn btn-secondary" id="prevGeoBtn" onclick="previousGeoQuestion()" disabled>Previous</button>
                            <button class="btn btn-primary" id="nextGeoBtn" onclick="nextGeoQuestion()">Next</button>
                            <button class="btn btn-success" id="submitGeoBtn" onclick="submitGeography()" style="display: none;">Submit Quiz</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="submission-area" id="puzzleSubmission">
                <p class="submission-status waiting" id="puzzleSubmissionStatus">Complete all questions to submit</p>
                <button class="btn btn-primary" id="puzzleSubmitBtn" onclick="submitPuzzle()" disabled>Submit Geography Quiz</button>
            </div>

            <!-- Geography Results -->
            <div id="geoResultsDisplay" style="display: none;">
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px; border-radius: 12px; text-align: center; margin-bottom: 30px;">
                    <h2 style="font-size: 2.5em; margin-bottom: 20px;">Quiz Complete! üéâ</h2>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0;">
                        <!-- Team A Results -->
                        <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 8px; border: 2px solid #667eea;">
                            <h3 style="font-size: 1.8em; margin-bottom: 15px;">Team A</h3>
                            <div style="font-size: 2.5em; font-weight: bold; margin-bottom: 10px;" id="teamAResult">0/20</div>
                            <div style="font-size: 1.2em;" id="teamAPercentage">0%</div>
                        </div>

                        <!-- Team B Results -->
                        <div style="background: rgba(255,255,255,0.1); padding: 25px; border-radius: 8px; border: 2px solid #f5576c;">
                            <h3 style="font-size: 1.8em; margin-bottom: 15px;">Team B</h3>
                            <div style="font-size: 2.5em; font-weight: bold; margin-bottom: 10px;" id="teamBResult">0/20</div>
                            <div style="font-size: 1.2em;" id="teamBPercentage">0%</div>
                        </div>
                    </div>

                    <div style="margin-top: 30px;">
                        <button class="btn btn-primary" onclick="resetPuzzle()" style="padding: 12px 30px; font-size: 1.1em;">Play Again</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Section -->
        <div id="quiz" class="content">
            <div class="timer-section">
                <h2>Quiz Time</h2>
                <div class="timer" id="quizTimer">10:00</div>
            </div>

            <!-- Quiz Start Screen -->
            <div id="quizStartScreen" style="text-align: center; padding: 60px 20px;">
                <h2 style="font-size: 2.5em; margin-bottom: 20px; color: #333;">Quiz Time</h2>
                <p style="font-size: 1.2em; color: #666; margin-bottom: 30px;">Create and take your own custom quiz</p>
                <div style="background: #f0f4ff; padding: 30px; border-radius: 8px; margin: 30px 0; max-width: 500px; margin-left: auto; margin-right: auto;">
                    <p style="font-size: 1.1em; margin: 10px 0;"><strong>‚úèÔ∏è Create Questions</strong></p>
                    <p style="font-size: 1.1em; margin: 10px 0;"><strong>üéØ Multiple Choice Options</strong></p>
                    <p style="font-size: 1.1em; margin: 10px 0;"><strong>‚è±Ô∏è 10 Minute Timer</strong></p>
                </div>
                <button class="btn btn-primary" onclick="showQuizSetup()" style="font-size: 1.1em; padding: 15px 40px; margin-top: 30px;">Start Quiz Time</button>
            </div>

            <!-- Quiz Setup Area -->
            <div id="quizSetup" style="display: none;">
                <div class="quiz-setup">
                    <h3>Create Your Quiz</h3>
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="addQuestionInput()">+ Add Question</button>
                        <button class="btn btn-success" id="startQuizBtn" onclick="startQuiz()" disabled>Start Quiz</button>
                        <button class="btn btn-secondary" onclick="resetQuiz()">Reset All</button>
                    </div>

                    <div id="questionsContainer"></div>
                </div>

                <div class="submission-area">
                    <p class="submission-status waiting" id="quizSetupStatus">Add at least one question to start</p>
                </div>
            </div>

            <!-- Quiz Display Area -->
            <div id="quizDisplay" class="quiz-display">
                <div id="questionsDisplay"></div>
                <div class="btn-group" style="justify-content: center;">
                    <button class="btn btn-primary" onclick="finishQuiz()">Finish Quiz</button>
                    <button class="btn btn-secondary" onclick="resetQuizDisplay()">Back to Setup</button>
                </div>

                <div id="quizScoreDisplay" style="display: none;">
                    <div class="quiz-score">
                        <h3>Quiz Completed!</h3>
                        <p id="scoreText">Your Score: 0/0</p>
                        <div class="submission-area active">
                            <p class="submission-status completed">Results saved and ready to submit</p>
                            <button class="btn btn-primary" onclick="submitQuiz()">Submit Quiz Results</button>
                            <button class="btn btn-secondary" onclick="resetQuizDisplay()" style="margin-top: 10px;">Take Another Quiz</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Logo Quizzes Section -->
        <div id="logo" class="content">
            <div class="timer-section">
                <h2>Logo Quizzes</h2>
                <div class="timer" id="logoTimer">10:00</div>
            </div>

            <!-- Logo Quiz Start Screen -->
            <div id="logoStartScreen" style="text-align: center; padding: 60px 20px;">
                <h2 style="font-size: 2.5em; margin-bottom: 20px; color: #333;">Logo Quizzes</h2>
                <p style="font-size: 1.2em; color: #666; margin-bottom: 30px;">Create and take your own logo identification quiz</p>
                <div style="background: #f0f4ff; padding: 30px; border-radius: 8px; margin: 30px 0; max-width: 500px; margin-left: auto; margin-right: auto;">
                    <p style="font-size: 1.1em; margin: 10px 0;"><strong>üè¢ Logo Questions</strong></p>
                    <p style="font-size: 1.1em; margin: 10px 0;"><strong>üéØ Multiple Choice Options</strong></p>
                    <p style="font-size: 1.1em; margin: 10px 0;"><strong>‚è±Ô∏è 10 Minute Timer</strong></p>
                </div>
                <button class="btn btn-primary" onclick="showLogoSetup()" style="font-size: 1.1em; padding: 15px 40px; margin-top: 30px;">Start Logo Quizzes</button>
            </div>

            <!-- Logo Quiz Setup Area -->
            <div id="logoSetup" style="display: none;">
                <div class="quiz-setup">
                    <h3>Create Your Logo Quiz</h3>
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="addLogoQuestionInput()">+ Add Logo Question</button>
                        <button class="btn btn-success" id="startLogoQuizBtn" onclick="startLogoQuiz()" disabled>Start Logo Quiz</button>
                        <button class="btn btn-secondary" onclick="resetLogoQuiz()">Reset All</button>
                    </div>

                    <div id="logoQuestionsContainer"></div>
                </div>

                <div class="submission-area">
                    <p class="submission-status waiting" id="logoSetupStatus">Add at least one question to start</p>
                </div>
            </div>

            <!-- Logo Quiz Display Area -->
            <div id="logoDisplay" class="quiz-display">
                <div id="logoQuestionsDisplay"></div>
                <div class="btn-group" style="justify-content: center;">
                    <button class="btn btn-primary" onclick="finishLogoQuiz()">Finish Quiz</button>
                    <button class="btn btn-secondary" onclick="resetLogoQuizDisplay()">Back to Setup</button>
                </div>

                <div id="logoScoreDisplay" style="display: none;">
                    <div class="quiz-score">
                        <h3>Logo Quiz Completed!</h3>
                        <p id="logoScoreText">Your Score: 0/0</p>
                        <div class="submission-area active">
                            <p class="submission-status completed">Results saved and ready to submit</p>
                            <button class="btn btn-primary" onclick="submitLogoQuiz()">Submit Logo Quiz Results</button>
                            <button class="btn btn-secondary" onclick="resetLogoQuizDisplay()" style="margin-top: 10px;">Take Another Quiz</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <!-- Team B Sidebar (Right) -->
        <div class="teams-sidebar-right" id="teamsSidebarRight">
            <div class="team-box teamB">
                <h3>Team B</h3>
                <div class="team-input-group">
                    <input type="text" id="teamBInput" placeholder="Enter name" maxlength="20">
                    <button id="addTeamBBtn" onclick="addTeamMember('B')">Add</button>
                </div>
                <div class="team-members-list" id="teamBList"></div>
                <div class="team-count" id="teamBCount">0 / 10 members</div>
                <div class="teams-locked-message" id="teamBLocked">Teams locked</div>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let gameState = {
            currentSection: 'puzzle',
            puzzleData: [],
            quizData: [],
            logoQuizData: [],
            puzzleAnswers: [],
            quizAnswers: [],
            logoQuizAnswers: [],
            puzzleTime: 600,
            quizTime: 600,
            logoTime: 600,
            puzzleTimerInterval: null,
            quizTimerInterval: null,
            logoTimerInterval: null,
            quizStarted: false,
            logoStarted: false,
            puzzleCompleted: false,
            quizCompleted: false,
            logoCompleted: false,
            teamsLocked: false
        };

        // Teams state
        let teamsState = {
            teamA: [],
            teamB: []
        };

        // ==================== TEAM MANAGEMENT ====================
        function addTeamMember(team) {
            if (gameState.teamsLocked) {
                alert('Teams are locked! Finish the current round to modify teams.');
                return;
            }

            const inputId = `team${team}Input`;
            const input = document.getElementById(inputId);
            const name = input.value.trim();

            if (!name) {
                alert('Please enter a player name');
                return;
            }

            const teamArray = team === 'A' ? teamsState.teamA : teamsState.teamB;

            if (teamArray.length >= 10) {
                alert(`Team ${team} already has 10 members. Maximum reached!`);
                return;
            }

            if (teamArray.includes(name)) {
                alert(`${name} is already in Team ${team}`);
                return;
            }

            teamArray.push(name);
            input.value = '';
            renderTeamMembers(team);
        }

        function removeTeamMember(team, index) {
            if (gameState.teamsLocked) {
                return;
            }

            const teamArray = team === 'A' ? teamsState.teamA : teamsState.teamB;
            teamArray.splice(index, 1);
            renderTeamMembers(team);
        }

        function renderTeamMembers(team) {
            const listId = `team${team}List`;
            const countId = `team${team}Count`;
            const teamArray = team === 'A' ? teamsState.teamA : teamsState.teamB;
            const listElement = document.getElementById(listId);

            listElement.innerHTML = '';

            teamArray.forEach((name, index) => {
                const memberDiv = document.createElement('div');
                memberDiv.className = `team-member-item team${team}`;
                memberDiv.innerHTML = `
                    <span class="team-member-name">${index + 1}. ${name}</span>
                    <button class="team-member-remove" onclick="removeTeamMember('${team}', ${index})" ${gameState.teamsLocked ? 'disabled' : ''}>√ó</button>
                `;
                listElement.appendChild(memberDiv);
            });

            document.getElementById(countId).textContent = `${teamArray.length} / 10 members`;
        }

        function lockTeams() {
            gameState.teamsLocked = true;
            document.getElementById('teamAInput').disabled = true;
            document.getElementById('teamBInput').disabled = true;
            document.getElementById('addTeamABtn').disabled = true;
            document.getElementById('addTeamBBtn').disabled = true;
            document.getElementById('teamALocked').classList.add('show');
            document.getElementById('teamBLocked').classList.add('show');

            // Disable remove buttons
            document.querySelectorAll('.team-member-remove').forEach(btn => btn.disabled = true);
        }

        function unlockTeams() {
            gameState.teamsLocked = false;
            document.getElementById('teamAInput').disabled = false;
            document.getElementById('teamBInput').disabled = false;
            document.getElementById('addTeamABtn').disabled = false;
            document.getElementById('addTeamBBtn').disabled = false;
            document.getElementById('teamALocked').classList.remove('show');
            document.getElementById('teamBLocked').classList.remove('show');

            // Enable remove buttons
            document.querySelectorAll('.team-member-remove').forEach(btn => btn.disabled = false);
        }

        function getTeamAMembers() {
            return teamsState.teamA;
        }

        function getTeamBMembers() {
            return teamsState.teamB;
        }

        // ==================== TEAM MEMBER INPUT HANDLING ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Allow Enter key to add team members
            document.getElementById('teamAInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addTeamMember('A');
            });

            document.getElementById('teamBInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addTeamMember('B');
            });
        });

        // ==================== SECTION SWITCHING ====================
        function switchSection(section) {
            gameState.currentSection = section;
            
            // Update buttons
            document.querySelectorAll('.section-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update content
            document.querySelectorAll('.content').forEach(content => content.classList.remove('active'));
            document.getElementById(section).classList.add('active');
            
            // Reset and start timer
            if (section === 'puzzle') {
                if (gameState.puzzleTimerInterval) clearInterval(gameState.puzzleTimerInterval);
                startPuzzleTimer();
            } else if (section === 'quiz') {
                if (gameState.quizTimerInterval) clearInterval(gameState.quizTimerInterval);
                startQuizTimer();
            } else if (section === 'logo') {
                if (gameState.logoTimerInterval) clearInterval(gameState.logoTimerInterval);
                startLogoTimer();
            }
        }

        // ==================== GEOGRAPHY QUIZ LOGIC ====================
        const geographyQuestions = [
            // Easy questions
            {
                question: "What is the capital of Australia?",
                options: ["Sydney", "Melbourne", "Canberra", "Brisbane"],
                correct: 2,
                location: "Canberra, Australia"
            },
            {
                question: "Which mountain is the highest in the world?",
                options: ["K2", "Kangchenjunga", "Mount Everest", "Makalu"],
                correct: 2,
                location: "Mount Everest, Himalayas"
            },
            {
                question: "What is the longest river in the world?",
                options: ["Amazon", "Nile", "Yangtze", "Mississippi"],
                correct: 1,
                location: "Nile River, Africa"
            },
            {
                question: "Which desert is the largest in the world?",
                options: ["Sahara", "Arabian", "Gobi", "Antarctic"],
                correct: 3,
                location: "Antarctic Desert"
            },
            {
                question: "What is the capital of Japan?",
                options: ["Osaka", "Tokyo", "Kyoto", "Hiroshima"],
                correct: 1,
                location: "Tokyo, Japan"
            },
            // Hard questions
            {
                question: "Which country has the most time zones?",
                options: ["Russia", "France", "United States", "United Kingdom"],
                correct: 1,
                location: "France"
            },
            {
                question: "What is the capital of Burkina Faso?",
                options: ["Accra", "Ouagadougou", "Bamako", "Niamey"],
                correct: 1,
                location: "Ouagadougou, Burkina Faso"
            },
            {
                question: "Which is the smallest country in the world by area?",
                options: ["Monaco", "San Marino", "Vatican City", "Liechtenstein"],
                correct: 2,
                location: "Vatican City"
            },
            {
                question: "What is the deepest point in the world's oceans?",
                options: ["Mariana Trench", "Tonga Trench", "Philippine Trench", "Kuril-Kamchatka Trench"],
                correct: 0,
                location: "Mariana Trench"
            },
            {
                question: "Which country is the largest landlocked country in the world?",
                options: ["Kazakhstan", "Mongolia", "Afghanistan", "Bolivia"],
                correct: 0,
                location: "Kazakhstan"
            },
            {
                question: "What is the capital of Djibouti?",
                options: ["Djibouti City", "Tadjoura", "Arta", "Ali Adde"],
                correct: 0,
                location: "Djibouti City, Djibouti"
            },
            {
                question: "Which mountain range is the longest in the world?",
                options: ["Rocky Mountains", "Andes", "Himalayas", "Mid-Ocean Ridge System"],
                correct: 3,
                location: "Andes Mountains"
            },
            {
                question: "What is the second-longest river in the world?",
                options: ["Amazon", "Yangtze", "Nile", "Mississippi-Missouri"],
                correct: 0,
                location: "Amazon River"
            },
            {
                question: "Which country has the most islands?",
                options: ["Indonesia", "Philippines", "Sweden", "Norway"],
                correct: 0,
                location: "Indonesia"
            },
            {
                question: "What is the capital of Equatorial Guinea?",
                options: ["Malabo", "Bata", "Ebebiyin", "Mongomo"],
                correct: 0,
                location: "Malabo, Equatorial Guinea"
            },
            {
                question: "Which is the hottest place on Earth?",
                options: ["Death Valley", "Kebili Tunisia", "Dasht-e Lut", "Lut Desert"],
                correct: 2,
                location: "Dasht-e Lut, Iran"
            },
            {
                question: "What is the capital of S√£o Tom√© and Pr√≠ncipe?",
                options: ["Santo Ant√≥nio", "S√£o Tom√©", "Neves", "√Ågua Grande"],
                correct: 1,
                location: "S√£o Tom√©, S√£o Tom√© and Pr√≠ncipe"
            },
            {
                question: "Which country is home to the Dead Sea?",
                options: ["Jordan", "Israel", "Palestine", "All of the above"],
                correct: 3,
                location: "Dead Sea"
            },
            {
                question: "What is the capital of Mauritius?",
                options: ["Port Louis", "Beau Bassin-Rose Hill", "Vacoas-Phoenix", "Curepipe"],
                correct: 0,
                location: "Port Louis, Mauritius"
            },
            {
                question: "Which is the southernmost capital city in the world?",
                options: ["Christchurch", "Wellington", "Hobart", "Ushuaia"],
                correct: 3,
                location: "Ushuaia, Argentina"
            },
            {
                question: "What is the capital of Seychelles?",
                options: ["Mahe", "Victoria", "Praslin", "Silhouette"],
                correct: 1,
                location: "Victoria, Seychelles"
            },
            {
                question: "Which country has more than 7,000 islands?",
                options: ["Philippines", "Indonesia", "Micronesia", "Bahamas"],
                correct: 1,
                location: "Indonesia"
            },
            {
                question: "What is the capital of Comoros?",
                options: ["Moroni", "Mutsamudu", "Fomboni", "Ntsoudjini"],
                correct: 0,
                location: "Moroni, Comoros"
            },
            {
                question: "Which mountain is the second-highest in the world?",
                options: ["Kangchenjunga", "Lhotse", "Makalu", "K2"],
                correct: 3,
                location: "K2, Karakoram"
            },
            {
                question: "What is the capital of Cabo Verde?",
                options: ["Praia", "Tarrafal", "Santa Maria", "Ribeira Grande"],
                correct: 0,
                location: "Praia, Cabo Verde"
            },
            {
                question: "Which country is home to the Atacama Desert?",
                options: ["Peru", "Chile", "Argentina", "Bolivia"],
                correct: 1,
                location: "Atacama Desert, Chile"
            },
            {
                question: "What is the capital of S√£o Tom√© and Pr√≠ncipe?",
                options: ["Santo Ant√≥nio", "S√£o Tom√©", "Neves", "Trindade"],
                correct: 1,
                location: "S√£o Tom√©, S√£o Tom√© and Pr√≠ncipe"
            },
            {
                question: "Which is the wettest place on Earth?",
                options: ["Cherrapunji", "Mawsynram", "Llor√≥", "Tutendo"],
                correct: 1,
                location: "Mawsynram, India"
            },
            {
                question: "What is the capital of Mauritania?",
                options: ["Nouakchott", "Atar", "Kaedi", "Rosso"],
                correct: 0,
                location: "Nouakchott, Mauritania"
            },
            {
                question: "Which country is located on the Horn of Africa?",
                options: ["Somalia", "Ethiopia", "Eritrea", "All of the above"],
                correct: 3,
                location: "Horn of Africa"
            },
            {
                question: "What is the capital of Benin?",
                options: ["Cotonou", "Porto-Novo", "Abomey", "Djougou"],
                correct: 1,
                location: "Porto-Novo, Benin"
            },
            {
                question: "Which desert is the coldest in the world?",
                options: ["Atacama", "Gobi", "Antarctic", "Arctic"],
                correct: 2,
                location: "Antarctic Desert"
            },
            {
                question: "What is the capital of Gabon?",
                options: ["Libreville", "Port-Gentil", "Franceville", "Oyem"],
                correct: 0,
                location: "Libreville, Gabon"
            },
            {
                question: "Which country is the least densely populated in the world?",
                options: ["Greenland", "Mongolia", "Mauritania", "Namibia"],
                correct: 0,
                location: "Greenland"
            },
            {
                question: "What is the capital of Guinea-Bissau?",
                options: ["Bissau", "Gabu", "Cacheu", "Bafata"],
                correct: 0,
                location: "Bissau, Guinea-Bissau"
            },
            {
                question: "Which bay is the largest in the world?",
                options: ["Hudson Bay", "Bengal Bay", "Mexico Bay", "Arabian Sea"],
                correct: 0,
                location: "Hudson Bay, Canada"
            },
            {
                question: "What is the capital of Liberia?",
                options: ["Monrovia", "Gbarnga", "Buchanan", "Kakata"],
                correct: 0,
                location: "Monrovia, Liberia"
            },
            {
                question: "Which country has the Great Barrier Reef?",
                options: ["New Zealand", "Australia", "Fiji", "Papua New Guinea"],
                correct: 1,
                location: "Great Barrier Reef, Australia"
            },
            {
                question: "What is the capital of Sierra Leone?",
                options: ["Freetown", "Kenema", "Makeni", "Bo"],
                correct: 0,
                location: "Freetown, Sierra Leone"
            },
            {
                question: "Which is the only country in the world with four capital cities?",
                options: ["South Africa", "Australia", "Brazil", "United States"],
                correct: 0,
                location: "South Africa"
            },
            {
                question: "What is the capital of Togo?",
                options: ["Lom√©", "Sokod√©", "Kpalim√©", "Ts√©vi√©"],
                correct: 0,
                location: "Lom√©, Togo"
            }
        ];

        // Second set of 40 much harder geography questions
        const geographyQuestionsRound2 = [
            // Extremely difficult questions - Round 2
            {
                question: "Which country is home to the Valley of the Kings?",
                options: ["Sudan", "Egypt", "Libya", "Algeria"],
                correct: 1,
                location: "Valley of the Kings, Egypt"
            },
            {
                question: "What is the capital of Kyrgyzstan?",
                options: ["Almaty", "Bishkek", "Osh", "Talas"],
                correct: 1,
                location: "Bishkek, Kyrgyzstan"
            },
            {
                question: "Which is the highest waterfall in the world?",
                options: ["Niagara Falls", "Victoria Falls", "Angel Falls", "Yosemite Falls"],
                correct: 2,
                location: "Angel Falls, Venezuela"
            },
            {
                question: "What is the capital of Turkmenistan?",
                options: ["Ashgabat", "Turkmenbashi", "Mary", "Balkanabat"],
                correct: 0,
                location: "Ashgabat, Turkmenistan"
            },
            {
                question: "Which ocean is the largest by surface area?",
                options: ["Atlantic Ocean", "Indian Ocean", "Pacific Ocean", "Arctic Ocean"],
                correct: 2,
                location: "Pacific Ocean"
            },
            {
                question: "What is the capital of Tajikistan?",
                options: ["Dushanbe", "Khujand", "Kulob", "Khorog"],
                correct: 0,
                location: "Dushanbe, Tajikistan"
            },
            {
                question: "Which country is located on the Balkan Peninsula?",
                options: ["Turkey", "Greece", "Romania", "All of the above"],
                correct: 3,
                location: "Balkans, Europe"
            },
            {
                question: "What is the lowest point on Earth's land surface?",
                options: ["Death Valley", "Dead Sea", "Turpan Depression", "Jericho"],
                correct: 1,
                location: "Dead Sea"
            },
            {
                question: "Which mountain peak is the highest in Africa?",
                options: ["Mount Kenya", "Mount Kilimanjaro", "Mount Stanley", "Ras Dashen"],
                correct: 1,
                location: "Mount Kilimanjaro, Tanzania"
            },
            {
                question: "What is the capital of Uzbekistan?",
                options: ["Samarkand", "Bukhara", "Tashkent", "Fergana"],
                correct: 2,
                location: "Tashkent, Uzbekistan"
            },
            {
                question: "Which country was formerly known as Rhodesia?",
                options: ["Zambia", "Zimbabwe", "Malawi", "Botswana"],
                correct: 1,
                location: "Zimbabwe"
            },
            {
                question: "What is the capital of Kazakhstan?",
                options: ["Almaty", "Astana", "Karaganda", "Shymkent"],
                correct: 1,
                location: "Astana, Kazakhstan"
            },
            {
                question: "Which is the only country to have four deserts?",
                options: ["Argentina", "Australia", "Mongolia", "Chile"],
                correct: 1,
                location: "Australia"
            },
            {
                question: "What is the capital of Azerbaijan?",
                options: ["Ganja", "Baku", "Shaki", "Lahij"],
                correct: 1,
                location: "Baku, Azerbaijan"
            },
            {
                question: "Which country spans both Europe and Asia?",
                options: ["Russia", "Turkey", "Georgia", "Kazakhstan"],
                correct: 0,
                location: "Russia"
            },
            {
                question: "What is the capital of Moldova?",
                options: ["Tiraspol", "Chisinau", "Balti", "Cahul"],
                correct: 1,
                location: "Chisinau, Moldova"
            },
            {
                question: "Which island nation is home to lemurs?",
                options: ["Mauritius", "Seychelles", "Madagascar", "Comoros"],
                correct: 2,
                location: "Madagascar"
            },
            {
                question: "What is the capital of Montenegro?",
                options: ["Podgorica", "Cetinje", "Kotor", "Budva"],
                correct: 0,
                location: "Podgorica, Montenegro"
            },
            {
                question: "Which sea has the highest salinity on Earth?",
                options: ["Red Sea", "Dead Sea", "Caspian Sea", "Great Salt Lake"],
                correct: 1,
                location: "Dead Sea"
            },
            {
                question: "What is the capital of Bosnia and Herzegovina?",
                options: ["Sarajevo", "Banja Luka", "Mostar", "Zenica"],
                correct: 0,
                location: "Sarajevo, Bosnia and Herzegovina"
            },
            {
                question: "Which country is the world's largest by area?",
                options: ["Canada", "United States", "China", "Russia"],
                correct: 3,
                location: "Russia"
            },
            {
                question: "What is the capital of Kosovo?",
                options: ["Pristina", "Prizren", "Gjakova", "Ferizaj"],
                correct: 0,
                location: "Pristina, Kosovo"
            },
            {
                question: "Which plateau is the highest in the world?",
                options: ["Colorado Plateau", "Tibetan Plateau", "Altai Plateau", "Patagonian Steppe"],
                correct: 1,
                location: "Tibetan Plateau"
            },
            {
                question: "What is the capital of North Macedonia?",
                options: ["Skopje", "Bitola", "Kumanovo", "Tetovo"],
                correct: 0,
                location: "Skopje, North Macedonia"
            },
            {
                question: "Which country has the most volcanoes?",
                options: ["Philippines", "Indonesia", "Japan", "Chile"],
                correct: 1,
                location: "Indonesia"
            },
            {
                question: "What is the capital of Albania?",
                options: ["Tirana", "Durres", "Vlore", "Shkoder"],
                correct: 0,
                location: "Tirana, Albania"
            },
            {
                question: "Which strait separates Spain and Morocco?",
                options: ["English Channel", "Strait of Gibraltar", "Strait of Hormuz", "Bering Strait"],
                correct: 1,
                location: "Strait of Gibraltar"
            },
            {
                question: "What is the capital of Serbia?",
                options: ["Nis", "Zemun", "Novi Sad", "Belgrade"],
                correct: 3,
                location: "Belgrade, Serbia"
            },
            {
                question: "Which desert is the driest place on Earth?",
                options: ["Sahara", "Kalahari", "Atacama", "Gobi"],
                correct: 2,
                location: "Atacama Desert, Chile"
            },
            {
                question: "What is the capital of Croatia?",
                options: ["Split", "Zadar", "Zagreb", "Dubrovnik"],
                correct: 2,
                location: "Zagreb, Croatia"
            },
            {
                question: "Which mountain range is home to the Khyber Pass?",
                options: ["Karakoram", "Hindu Kush", "Himalayas", "Pamir"],
                correct: 1,
                location: "Hindu Kush Mountains"
            },
            {
                question: "What is the capital of Slovenia?",
                options: ["Ljubljana", "Maribor", "Celje", "Koper"],
                correct: 0,
                location: "Ljubljana, Slovenia"
            },
            {
                question: "Which country has the most lakes?",
                options: ["Sweden", "Canada", "Russia", "Finland"],
                correct: 1,
                location: "Canada"
            },
            {
                question: "What is the capital of Slovakia?",
                options: ["Bratislava", "Kosice", "Presov", "Zilina"],
                correct: 0,
                location: "Bratislava, Slovakia"
            },
            {
                question: "Which gulf is the largest in the world?",
                options: ["Gulf of Mexico", "Persian Gulf", "Gulf of Bengal", "Gulf of Guinea"],
                correct: 2,
                location: "Gulf of Bengal"
            },
            {
                question: "What is the capital of Czech Republic?",
                options: ["Brno", "Ostrava", "Prague", "Plzen"],
                correct: 2,
                location: "Prague, Czech Republic"
            },
            {
                question: "Which country is the only one with a non-rectangular flag?",
                options: ["Nepal", "Switzerland", "Iceland", "Malta"],
                correct: 0,
                location: "Nepal"
            },
            {
                question: "What is the capital of Hungary?",
                options: ["Debrecen", "Budapest", "Szeged", "Miskolc"],
                correct: 1,
                location: "Budapest, Hungary"
            },
            {
                question: "Which reef system is the second largest in the world?",
                options: ["Belize Barrier Reef", "Mesoamerican Reef", "Bunaken Reef", "Palau Reef"],
                correct: 1,
                location: "Mesoamerican Reef"
            },
            {
                question: "What is the capital of Romania?",
                options: ["Constanta", "Braila", "Bucharest", "Iasi"],
                correct: 2,
                location: "Bucharest, Romania"
            }
        ];

        let geoState = {
            currentQuestion: 0,
            answers: new Array(40).fill(-1),
            answered: new Array(40).fill(false),
            submitted: false,
            questionTimer: 20,
            timerInterval: null,
            teamAScore: 0,
            teamBScore: 0,
            totalTeamAQuestions: 20,
            totalTeamBQuestions: 20,
            round: 1,
            currentQuestionSet: geographyQuestions
        };

        function initializePuzzle() {
            // Show start screen initially
            document.getElementById('geoStartScreen').style.display = 'block';
            document.getElementById('geoQuizContent').style.display = 'none';
        }

        function startGeographyQuiz() {
            lockTeams();
            document.getElementById('geoStartScreen').style.display = 'none';
            document.getElementById('geoQuizContent').style.display = 'block';
            loadGeoQuestion(0);
        }

        function loadGeoQuestion(index) {
            geoState.currentQuestion = index;
            const question = geoState.currentQuestionSet[index];
            
            // Determine which team this question is for (even index = Team A, odd = Team B)
            const isTeamA = index % 2 === 0;
            const teamLabel = isTeamA ? 'Team A' : 'Team B';
            const teamColor = isTeamA ? '#667eea' : '#f5576c';

            document.getElementById('geoQuestion').textContent = question.question;
            document.getElementById('optionA').textContent = question.options[0];
            document.getElementById('optionB').textContent = question.options[1];
            document.getElementById('optionC').textContent = question.options[2];
            document.getElementById('optionD').textContent = question.options[3];
            
            // Show round and question count
            const totalQuestions = 40;
            const roundLabel = geoState.round === 1 ? 'Round 1' : 'Round 2';
            document.getElementById('geoCount').textContent = `${roundLabel} - Question ${index + 1} of ${totalQuestions}`;
            
            // Update team indicator
            const indicator = document.getElementById('teamIndicator');
            indicator.textContent = teamLabel;
            indicator.style.background = teamColor;

            // Load location image
            if (question.location) {
                loadLocationImage(question.location);
            } else {
                document.getElementById('geoLocationImage').innerHTML = 'üìç Geographic Location';
            }

            // Reset button states
            document.querySelectorAll('.geo-option-btn').forEach(btn => {
                btn.classList.remove('correct', 'wrong');
                btn.disabled = false;
            });

            // Update progress
            const progress = ((index + 1) / 40) * 100;
            document.getElementById('geoProgress').style.width = progress + '%';

            // Start timer for this question if not already answered
            if (!geoState.answered[index]) {
                startQuestionTimer();
            } else {
                // Stop timer if question already answered
                if (geoState.timerInterval) {
                    clearInterval(geoState.timerInterval);
                }
                document.getElementById('questionTimer').textContent = '-';
            }

            // Show selected answer if already answered
            if (geoState.answered[index]) {
                const selectedOption = geoState.answers[index];
                const buttons = document.querySelectorAll('.geo-option-btn');
                if (selectedOption === question.correct) {
                    buttons[selectedOption].classList.add('correct');
                } else {
                    buttons[selectedOption].classList.add('wrong');
                    buttons[question.correct].classList.add('correct');
                }
                document.querySelectorAll('.geo-option-btn').forEach(btn => btn.disabled = true);
            }

            // Update navigation buttons
            document.getElementById('prevGeoBtn').disabled = index === 0;
            if (index === 39) {
                document.getElementById('nextGeoBtn').style.display = 'none';
                document.getElementById('submitGeoBtn').style.display = 'block';
            } else {
                document.getElementById('nextGeoBtn').style.display = 'block';
                document.getElementById('submitGeoBtn').style.display = 'none';
            }
        }

        function loadLocationImage(location) {
            const imageElement = document.getElementById('geoLocationImage');
            imageElement.innerHTML = '';
            imageElement.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
            
            // Use Unsplash API for free images
            const searchQuery = encodeURIComponent(location);
            const imageUrl = `https://source.unsplash.com/600x300/?${searchQuery},geography,landmark`;
            
            const img = new Image();
            img.onload = function() {
                imageElement.style.backgroundImage = `url('${imageUrl}')`;
                imageElement.style.backgroundSize = 'cover';
                imageElement.style.backgroundPosition = 'center';
                imageElement.textContent = '';
            };
            img.onerror = function() {
                // Fallback - just show gradient background, no text
                imageElement.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                imageElement.textContent = '';
            };
            img.src = imageUrl;
        }

        function startQuestionTimer() {
            if (geoState.timerInterval) {
                clearInterval(geoState.timerInterval);
            }

            geoState.questionTimer = 20;
            updateQuestionTimerDisplay();

            geoState.timerInterval = setInterval(() => {
                geoState.questionTimer--;
                updateQuestionTimerDisplay();

                if (geoState.questionTimer <= 0) {
                    clearInterval(geoState.timerInterval);
                    // Auto-move to next question when time is up
                    if (geoState.currentQuestion < geographyQuestions.length - 1) {
                        nextGeoQuestion();
                    }
                }
            }, 1000);
        }

        function updateQuestionTimerDisplay() {
            const timerElement = document.getElementById('questionTimer');
            timerElement.textContent = geoState.questionTimer + 's';

            if (geoState.questionTimer <= 5) {
                timerElement.style.color = '#f44336'; // Red
            } else if (geoState.questionTimer <= 10) {
                timerElement.style.color = '#ff9800'; // Orange
            } else {
                timerElement.style.color = '#667eea'; // Blue
            }
        }

        function selectGeoAnswer(optionIndex, label) {
            if (geoState.answered[geoState.currentQuestion]) return;

            // Stop the timer when answer is selected
            if (geoState.timerInterval) {
                clearInterval(geoState.timerInterval);
            }
            document.getElementById('questionTimer').textContent = '-';

            const question = geoState.currentQuestionSet[geoState.currentQuestion];
            const buttons = document.querySelectorAll('.geo-option-btn');

            geoState.answers[geoState.currentQuestion] = optionIndex;
            geoState.answered[geoState.currentQuestion] = true;

            // Show correct/wrong feedback
            if (optionIndex === question.correct) {
                buttons[optionIndex].classList.add('correct');
            } else {
                buttons[optionIndex].classList.add('wrong');
                buttons[question.correct].classList.add('correct');
            }

            // Disable all buttons after selection
            buttons.forEach(btn => btn.disabled = true);

            // Check if all questions are answered
            const allAnswered = geoState.answered.every(a => a);
            if (allAnswered && geoState.currentQuestion === 39) {
                document.getElementById('submitGeoBtn').style.display = 'block';
                document.getElementById('nextGeoBtn').style.display = 'none';
            }
        }

        function nextGeoQuestion() {
            if (geoState.currentQuestion < geographyQuestions.length - 1) {
                loadGeoQuestion(geoState.currentQuestion + 1);
            }
        }

        function previousGeoQuestion() {
            if (geoState.currentQuestion > 0) {
                loadGeoQuestion(geoState.currentQuestion - 1);
            }
        }

        function submitGeography() {
            // Calculate scores for current round
            let round1TeamAScore = 0, round1TeamBScore = 0;
            let round2TeamAScore = 0, round2TeamBScore = 0;

            geoState.currentQuestionSet.forEach((question, index) => {
                const isCorrect = geoState.answers[index] === question.correct;
                if (geoState.round === 1) {
                    if (index % 2 === 0) {
                        if (isCorrect) round1TeamAScore++;
                    } else {
                        if (isCorrect) round1TeamBScore++;
                    }
                } else {
                    if (index % 2 === 0) {
                        if (isCorrect) round2TeamAScore++;
                    } else {
                        if (isCorrect) round2TeamBScore++;
                    }
                }
            });

            if (geoState.round === 1) {
                // Save round 1 scores and prepare for round 2
                geoState.round1TeamAScore = round1TeamAScore;
                geoState.round1TeamBScore = round1TeamBScore;
                geoState.round1Answers = [...geoState.answers];
                
                // Reset for round 2
                geoState.round = 2;
                geoState.currentQuestion = 0;
                geoState.answers = new Array(40).fill(-1);
                geoState.answered = new Array(40).fill(false);
                geoState.currentQuestionSet = geographyQuestionsRound2;
                
                // Show start screen for round 2
                document.getElementById('geoQuizContent').style.display = 'none';
                document.getElementById('geoStartScreen').style.display = 'block';
                document.getElementById('geoStartScreen').innerHTML = `
                    <div style="text-align: center; padding: 60px 20px;">
                        <h2 style="font-size: 2.5em; margin-bottom: 20px; color: #333;">Round 1 Complete! üéâ</h2>
                        <p style="font-size: 1.2em; color: #666; margin-bottom: 30px;">You completed 40 challenging questions!</p>
                        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 8px; margin: 30px 0; max-width: 500px; margin-left: auto; margin-right: auto;">
                            <h3 style="margin-bottom: 15px;">Round 1 Results</h3>
                            <p style="font-size: 1.1em; margin: 10px 0;"><strong>Team A: ${round1TeamAScore}/20</strong></p>
                            <p style="font-size: 1.1em; margin: 10px 0;"><strong>Team B: ${round1TeamBScore}/20</strong></p>
                        </div>
                        <p style="font-size: 1.1em; color: #333; margin-bottom: 30px;"><strong>Now it's time for Round 2 - Even Tougher Questions!</strong></p>
                        <button class="btn btn-primary" onclick="startGeographyQuiz()" style="font-size: 1.1em; padding: 15px 40px;">Start Round 2</button>
                    </div>
                `;
            } else {
                // Round 2 is complete - show final results
                geoState.round2TeamAScore = round2TeamAScore;
                geoState.round2TeamBScore = round2TeamBScore;
                geoState.submitted = true;

                // Hide quiz content and show final results
                document.getElementById('geoQuizContent').style.display = 'none';
                document.getElementById('geoResultsDisplay').style.display = 'block';

                // Calculate totals
                const totalTeamA = geoState.round1TeamAScore + geoState.round2TeamAScore;
                const totalTeamB = geoState.round1TeamBScore + geoState.round2TeamBScore;
                const teamAPercentage = Math.round((totalTeamA / 40) * 100);
                const teamBPercentage = Math.round((totalTeamB / 40) * 100);

                document.getElementById('teamAResult').innerHTML = `
                    <div>Round 1: ${geoState.round1TeamAScore}/20</div>
                    <div>Round 2: ${geoState.round2TeamAScore}/20</div>
                    <div style="margin-top: 10px; padding-top: 10px; border-top: 2px solid rgba(255,255,255,0.3); font-size: 1.3em;"><strong>Total: ${totalTeamA}/40</strong></div>
                `;
                document.getElementById('teamBResult').innerHTML = `
                    <div>Round 1: ${geoState.round1TeamBScore}/20</div>
                    <div>Round 2: ${geoState.round2TeamBScore}/20</div>
                    <div style="margin-top: 10px; padding-top: 10px; border-top: 2px solid rgba(255,255,255,0.3); font-size: 1.3em;"><strong>Total: ${totalTeamB}/40</strong></div>
                `;
                document.getElementById('teamAPercentage').textContent = `${teamAPercentage}%`;
                document.getElementById('teamBPercentage').textContent = `${teamBPercentage}%`;

                document.getElementById('puzzleSubmissionStatus').textContent = 'Geography Quiz (2 Rounds) completed! Results displayed above.';
                document.getElementById('puzzleSubmissionStatus').className = 'submission-status success';
                document.getElementById('puzzleSubmitBtn').disabled = false;
            }
        }

        function startPuzzleTimer() {
            gameState.puzzleTime = 600;
            updatePuzzleTimerDisplay();

            gameState.puzzleTimerInterval = setInterval(() => {
                gameState.puzzleTime--;
                updatePuzzleTimerDisplay();

                if (gameState.puzzleTime <= 0) {
                    clearInterval(gameState.puzzleTimerInterval);
                    alert('Time\'s up! Puzzle session ended.');
                    resetPuzzle();
                }
            }, 1000);

            initializePuzzle();
        }

        function updatePuzzleTimerDisplay() {
            const minutes = Math.floor(gameState.puzzleTime / 60);
            const seconds = gameState.puzzleTime % 60;
            const timerElement = document.getElementById('puzzleTimer');
            timerElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;

            if (gameState.puzzleTime <= 60) {
                timerElement.classList.add('danger');
            } else if (gameState.puzzleTime <= 180) {
                timerElement.classList.add('warning');
            }
        }

        function submitPuzzle() {
            if (!gameState.puzzleCompleted) {
                alert('Please complete the puzzle first!');
                return;
            }

            alert('üéâ Puzzle submitted successfully! Great job!');
            document.getElementById('puzzleSubmissionStatus').textContent = 'Puzzle submission confirmed ‚úì';
            document.getElementById('puzzleSubmissionStatus').className = 'submission-status completed';
        }

        function resetPuzzle() {
            if (gameState.puzzleTimerInterval) clearInterval(gameState.puzzleTimerInterval);
            gameState.puzzleCompleted = false;
            
            // Reset geo state completely
            geoState.currentQuestion = 0;
            geoState.answers = new Array(40).fill(-1);
            geoState.answered = new Array(40).fill(false);
            geoState.submitted = false;
            geoState.round = 1;
            geoState.currentQuestionSet = geographyQuestions;
            geoState.teamAScore = 0;
            geoState.teamBScore = 0;
            geoState.round1TeamAScore = 0;
            geoState.round1TeamBScore = 0;
            geoState.round2TeamAScore = 0;
            geoState.round2TeamBScore = 0;
            
            document.getElementById('puzzleSubmitBtn').disabled = true;
            document.getElementById('puzzleSubmissionStatus').textContent = 'Complete all questions to submit';
            document.getElementById('puzzleSubmissionStatus').className = 'submission-status waiting';
            document.getElementById('puzzleSubmission').classList.remove('active');
            
            // Hide results and show start screen
            document.getElementById('geoResultsDisplay').style.display = 'none';
            document.getElementById('geoStartScreen').style.display = 'block';
            document.getElementById('geoStartScreen').innerHTML = `
                <div style="text-align: center; padding: 60px 20px;">
                    <h2 style="font-size: 2.5em; margin-bottom: 20px; color: #333;">Geography Quizzes</h2>
                    <p style="font-size: 1.2em; color: #666; margin-bottom: 30px;">Challenge yourself with 80 geography questions across 2 rounds</p>
                    <div style="background: #f0f4ff; padding: 30px; border-radius: 8px; margin: 30px 0; max-width: 500px; margin-left: auto; margin-right: auto;">
                        <p style="font-size: 1.1em; margin: 10px 0;"><strong>üìù 40 Questions (Round 1)</strong></p>
                        <p style="font-size: 1.1em; margin: 10px 0;"><strong>üî• 40 Harder Questions (Round 2)</strong></p>
                        <p style="font-size: 1.1em; margin: 10px 0;"><strong>‚è±Ô∏è 20 Seconds per Question</strong></p>
                        <p style="font-size: 1.1em; margin: 10px 0;"><strong>üåç Various Difficulty Levels</strong></p>
                    </div>
                    <button class="btn btn-primary" onclick="startGeographyQuiz()" style="font-size: 1.1em; padding: 15px 40px; margin-top: 30px;">Start Geography Quiz</button>
                </div>
            `;
            document.getElementById('geoQuizContent').style.display = 'none';
            
            unlockTeams();
            initializePuzzle();
        }

        // ==================== QUIZ LOGIC ====================
        function addQuestionInput() {
            const container = document.getElementById('questionsContainer');
            const questionIndex = gameState.quizData.length;

            const questionDiv = document.createElement('div');
            questionDiv.className = 'question-entry';
            questionDiv.id = `question-${questionIndex}`;
            questionDiv.innerHTML = `
                <h4>Question ${questionIndex + 1}</h4>
                <div class="form-group">
                    <label>Question Text</label>
                    <input type="text" placeholder="Enter your question" class="question-text" onchange="updateQuizData()">
                </div>
                <div class="form-group">
                    <label>Options</label>
                    <div class="option-input">
                        <input type="text" placeholder="Option 1" class="option-0">
                        <label>
                            <input type="radio" name="correct-${questionIndex}" value="0"> Correct
                        </label>
                    </div>
                    <div class="option-input">
                        <input type="text" placeholder="Option 2" class="option-1">
                        <label>
                            <input type="radio" name="correct-${questionIndex}" value="1"> Correct
                        </label>
                    </div>
                    <div class="option-input">
                        <input type="text" placeholder="Option 3" class="option-2">
                        <label>
                            <input type="radio" name="correct-${questionIndex}" value="2"> Correct
                        </label>
                    </div>
                    <div class="option-input">
                        <input type="text" placeholder="Option 4" class="option-3">
                        <label>
                            <input type="radio" name="correct-${questionIndex}" value="3"> Correct
                        </label>
                    </div>
                </div>
                <button class="btn btn-danger" onclick="removeQuestion(${questionIndex})">Remove Question</button>
            `;

            container.appendChild(questionDiv);

            // Add new data entry
            gameState.quizData.push({
                id: questionIndex,
                question: '',
                options: ['', '', '', ''],
                correctAnswer: -1
            });

            updateQuizSetupStatus();
        }

        function updateQuizData() {
            document.querySelectorAll('.question-entry').forEach((entry, index) => {
                const questionText = entry.querySelector('.question-text').value;
                const options = [];
                let correctAnswer = -1;

                for (let i = 0; i < 4; i++) {
                    options.push(entry.querySelector(`.option-${i}`).value);
                    const radio = entry.querySelector(`input[name="correct-${index}"][value="${i}"]`);
                    if (radio && radio.checked) {
                        correctAnswer = i;
                    }
                }

                if (index < gameState.quizData.length) {
                    gameState.quizData[index] = {
                        id: index,
                        question: questionText,
                        options: options,
                        correctAnswer: correctAnswer
                    };
                }
            });

            updateQuizSetupStatus();
        }

        function removeQuestion(index) {
            document.getElementById(`question-${index}`).remove();
            gameState.quizData = gameState.quizData.filter((_, i) => i !== index);
            updateQuizSetupStatus();
        }

        function updateQuizSetupStatus() {
            const validQuestions = gameState.quizData.filter(q => 
                q.question.trim() && q.options.every(o => o.trim()) && q.correctAnswer >= 0
            ).length;

            const status = document.getElementById('quizSetupStatus');
            const startBtn = document.getElementById('startQuizBtn');

            if (validQuestions > 0) {
                status.textContent = `${validQuestions} valid question(s) ready. Click Start Quiz to begin!`;
                status.className = 'submission-status success';
                startBtn.disabled = false;
            } else {
                status.textContent = 'Add at least one complete question to start';
                status.className = 'submission-status waiting';
                startBtn.disabled = true;
            }
        }

        function showQuizSetup() {
            document.getElementById('quizStartScreen').style.display = 'none';
            document.getElementById('quizSetup').style.display = 'block';
        }

        function startQuiz() {
            lockTeams();
            updateQuizData(); // Ensure latest data is captured

            const validQuestions = gameState.quizData.filter(q => 
                q.question.trim() && q.options.every(o => o.trim()) && q.correctAnswer >= 0
            );

            if (validQuestions.length === 0) {
                alert('Please add at least one complete question first!');
                unlockTeams();
                return;
            }

            gameState.quizData = validQuestions;
            gameState.quizAnswers = new Array(gameState.quizData.length).fill(-1);
            gameState.quizStarted = true;
            gameState.quizCompleted = false;

            // Hide setup, show questions
            document.getElementById('quizSetup').style.display = 'none';
            document.getElementById('quizDisplay').classList.add('active');
            document.getElementById('quizScoreDisplay').style.display = 'none';

            renderQuizQuestions();

            // Start timer
            if (gameState.quizTimerInterval) clearInterval(gameState.quizTimerInterval);
            startQuizTimer();
        }

        function renderQuizQuestions() {
            const container = document.getElementById('questionsDisplay');
            container.innerHTML = '';

            gameState.quizData.forEach((q, index) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card';
                questionCard.innerHTML = `
                    <h3>Question ${index + 1}: ${q.question}</h3>
                    <div class="options">
                        ${q.options.map((option, optIndex) => `
                            <label class="option" onclick="selectQuizAnswer(${index}, ${optIndex})">
                                <input type="radio" name="question-${index}" value="${optIndex}">
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionCard);
            });
        }

        function selectQuizAnswer(questionIndex, optionIndex) {
            gameState.quizAnswers[questionIndex] = optionIndex;

            // Update UI
            document.querySelectorAll(`input[name="question-${questionIndex}"]`).forEach((input, i) => {
                const label = input.closest('.option');
                if (i === optionIndex) {
                    input.checked = true;
                    label.classList.add('selected');
                } else {
                    label.classList.remove('selected');
                }
            });
        }

        function finishQuiz() {
            updateQuizData();
            let score = 0;

            gameState.quizAnswers.forEach((answer, index) => {
                if (answer === gameState.quizData[index].correctAnswer) {
                    score++;
                }
            });

            gameState.quizCompleted = true;
            displayQuizScore(score);
        }

        function displayQuizScore(score) {
            document.getElementById('questionsDisplay').style.display = 'none';
            document.getElementById('quizScoreDisplay').style.display = 'block';
            document.getElementById('scoreText').textContent = `Your Score: ${score}/${gameState.quizData.length}`;

            const percentage = Math.round((score / gameState.quizData.length) * 100);
            const message = percentage >= 80 ? 'Excellent!' : percentage >= 60 ? 'Good Job!' : 'Keep Practicing!';
            document.getElementById('scoreText').textContent += ` - ${message}`;
        }

        function submitQuiz() {
            if (!gameState.quizCompleted) {
                alert('Please complete the quiz first!');
                return;
            }

            alert('üéâ Quiz submitted successfully! Your results have been saved!');
        }

        function resetQuizDisplay() {
            document.getElementById('quizStartScreen').style.display = 'block';
            document.getElementById('quizSetup').style.display = 'none';
            document.getElementById('quizDisplay').classList.remove('active');
            document.getElementById('questionsDisplay').style.display = 'block';
            document.getElementById('quizScoreDisplay').style.display = 'none';
            gameState.quizStarted = false;
            gameState.quizCompleted = false;
            unlockTeams();

            if (gameState.quizTimerInterval) clearInterval(gameState.quizTimerInterval);
        }

        function resetQuiz() {
            if (gameState.quizTimerInterval) clearInterval(gameState.quizTimerInterval);
            document.getElementById('questionsContainer').innerHTML = '';
            gameState.quizData = [];
            gameState.quizAnswers = [];
            gameState.quizStarted = false;
            gameState.quizCompleted = false;
            unlockTeams();
            updateQuizSetupStatus();
        }

        function startQuizTimer() {
            gameState.quizTime = 600;
            updateQuizTimerDisplay();

            gameState.quizTimerInterval = setInterval(() => {
                gameState.quizTime--;
                updateQuizTimerDisplay();

                if (gameState.quizTime <= 0) {
                    clearInterval(gameState.quizTimerInterval);
                    alert('Time\'s up! Quiz session ended.');
                    finishQuiz();
                }
            }, 1000);
        }

        function updateQuizTimerDisplay() {
            const minutes = Math.floor(gameState.quizTime / 60);
            const seconds = gameState.quizTime % 60;
            const timerElement = document.getElementById('quizTimer');
            timerElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;

            if (gameState.quizTime <= 60) {
                timerElement.classList.add('danger');
            } else if (gameState.quizTime <= 180) {
                timerElement.classList.add('warning');
            }
        }

        // ==================== LOGO QUIZ LOGIC ====================
        function addLogoQuestionInput() {
            const container = document.getElementById('logoQuestionsContainer');
            const questionIndex = gameState.logoQuizData.length;

            const questionDiv = document.createElement('div');
            questionDiv.className = 'question-entry';
            questionDiv.id = `logo-question-${questionIndex}`;
            questionDiv.innerHTML = `
                <h4>Logo Question ${questionIndex + 1}</h4>
                <div class="form-group">
                    <label>Question Text</label>
                    <input type="text" placeholder="Enter your logo question" class="question-text" onchange="updateLogoQuizData()">
                </div>
                <div class="form-group">
                    <label>Options</label>
                    <div class="option-input">
                        <input type="text" placeholder="Option 1" class="option-0">
                        <label>
                            <input type="radio" name="correct-logo-${questionIndex}" value="0"> Correct
                        </label>
                    </div>
                    <div class="option-input">
                        <input type="text" placeholder="Option 2" class="option-1">
                        <label>
                            <input type="radio" name="correct-logo-${questionIndex}" value="1"> Correct
                        </label>
                    </div>
                    <div class="option-input">
                        <input type="text" placeholder="Option 3" class="option-2">
                        <label>
                            <input type="radio" name="correct-logo-${questionIndex}" value="2"> Correct
                        </label>
                    </div>
                    <div class="option-input">
                        <input type="text" placeholder="Option 4" class="option-3">
                        <label>
                            <input type="radio" name="correct-logo-${questionIndex}" value="3"> Correct
                        </label>
                    </div>
                </div>
                <button class="btn btn-danger" onclick="removeLogoQuestion(${questionIndex})">Remove Question</button>
            `;

            container.appendChild(questionDiv);

            gameState.logoQuizData.push({
                id: questionIndex,
                question: '',
                options: ['', '', '', ''],
                correctAnswer: -1
            });

            updateLogoQuizSetupStatus();
        }

        function updateLogoQuizData() {
            document.querySelectorAll('#logoQuestionsContainer .question-entry').forEach((entry, index) => {
                const questionText = entry.querySelector('.question-text').value;
                const options = [];
                let correctAnswer = -1;

                for (let i = 0; i < 4; i++) {
                    options.push(entry.querySelector(`.option-${i}`).value);
                    const radio = entry.querySelector(`input[name="correct-logo-${index}"][value="${i}"]`);
                    if (radio && radio.checked) {
                        correctAnswer = i;
                    }
                }

                if (index < gameState.logoQuizData.length) {
                    gameState.logoQuizData[index] = {
                        id: index,
                        question: questionText,
                        options: options,
                        correctAnswer: correctAnswer
                    };
                }
            });

            updateLogoQuizSetupStatus();
        }

        function removeLogoQuestion(index) {
            document.getElementById(`logo-question-${index}`).remove();
            gameState.logoQuizData = gameState.logoQuizData.filter((_, i) => i !== index);
            updateLogoQuizSetupStatus();
        }

        function updateLogoQuizSetupStatus() {
            const validQuestions = gameState.logoQuizData.filter(q => 
                q.question.trim() && q.options.every(o => o.trim()) && q.correctAnswer >= 0
            ).length;

            const status = document.getElementById('logoSetupStatus');
            const startBtn = document.getElementById('startLogoQuizBtn');

            if (validQuestions > 0) {
                status.textContent = `${validQuestions} valid question(s) ready. Click Start Logo Quiz to begin!`;
                status.className = 'submission-status success';
                startBtn.disabled = false;
            } else {
                status.textContent = 'Add at least one complete question to start';
                status.className = 'submission-status waiting';
                startBtn.disabled = true;
            }
        }

        function showLogoSetup() {
            document.getElementById('logoStartScreen').style.display = 'none';
            document.getElementById('logoSetup').style.display = 'block';
        }

        function startLogoQuiz() {
            lockTeams();
            updateLogoQuizData();

            const validQuestions = gameState.logoQuizData.filter(q => 
                q.question.trim() && q.options.every(o => o.trim()) && q.correctAnswer >= 0
            );

            if (validQuestions.length === 0) {
                alert('Please add at least one complete question first!');
                unlockTeams();
                return;
            }

            gameState.logoQuizData = validQuestions;
            gameState.logoQuizAnswers = new Array(gameState.logoQuizData.length).fill(-1);
            gameState.logoStarted = true;
            gameState.logoCompleted = false;

            document.getElementById('logoSetup').style.display = 'none';
            document.getElementById('logoDisplay').classList.add('active');
            document.getElementById('logoScoreDisplay').style.display = 'none';

            renderLogoQuizQuestions();

            if (gameState.logoTimerInterval) clearInterval(gameState.logoTimerInterval);
            startLogoTimer();
        }

        function renderLogoQuizQuestions() {
            const container = document.getElementById('logoQuestionsDisplay');
            container.innerHTML = '';

            gameState.logoQuizData.forEach((q, index) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card';
                questionCard.innerHTML = `
                    <h3>Question ${index + 1}: ${q.question}</h3>
                    <div class="options">
                        ${q.options.map((option, optIndex) => `
                            <label class="option" onclick="selectLogoQuizAnswer(${index}, ${optIndex})">
                                <input type="radio" name="logo-question-${index}" value="${optIndex}">
                                ${option}
                            </label>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionCard);
            });
        }

        function selectLogoQuizAnswer(questionIndex, optionIndex) {
            gameState.logoQuizAnswers[questionIndex] = optionIndex;

            document.querySelectorAll(`input[name="logo-question-${questionIndex}"]`).forEach((input, i) => {
                const label = input.closest('.option');
                if (i === optionIndex) {
                    input.checked = true;
                    label.classList.add('selected');
                } else {
                    label.classList.remove('selected');
                }
            });
        }

        function finishLogoQuiz() {
            updateLogoQuizData();
            let score = 0;

            gameState.logoQuizAnswers.forEach((answer, index) => {
                if (answer === gameState.logoQuizData[index].correctAnswer) {
                    score++;
                }
            });

            gameState.logoCompleted = true;
            displayLogoQuizScore(score);
        }

        function displayLogoQuizScore(score) {
            document.getElementById('logoQuestionsDisplay').style.display = 'none';
            document.getElementById('logoScoreDisplay').style.display = 'block';
            document.getElementById('logoScoreText').textContent = `Your Score: ${score}/${gameState.logoQuizData.length}`;

            const percentage = Math.round((score / gameState.logoQuizData.length) * 100);
            const message = percentage >= 80 ? 'Excellent!' : percentage >= 60 ? 'Good Job!' : 'Keep Practicing!';
            document.getElementById('logoScoreText').textContent += ` - ${message}`;
        }

        function submitLogoQuiz() {
            if (!gameState.logoCompleted) {
                alert('Please complete the quiz first!');
                return;
            }

            alert('üéâ Logo Quiz submitted successfully! Your results have been saved!');
        }

        function resetLogoQuizDisplay() {
            document.getElementById('logoStartScreen').style.display = 'block';
            document.getElementById('logoSetup').style.display = 'none';
            document.getElementById('logoDisplay').classList.remove('active');
            document.getElementById('logoQuestionsDisplay').style.display = 'block';
            document.getElementById('logoScoreDisplay').style.display = 'none';
            gameState.logoStarted = false;
            gameState.logoCompleted = false;
            unlockTeams();

            if (gameState.logoTimerInterval) clearInterval(gameState.logoTimerInterval);
        }

        function resetLogoQuiz() {
            if (gameState.logoTimerInterval) clearInterval(gameState.logoTimerInterval);
            document.getElementById('logoQuestionsContainer').innerHTML = '';
            gameState.logoQuizData = [];
            gameState.logoQuizAnswers = [];
            gameState.logoStarted = false;
            gameState.logoCompleted = false;
            unlockTeams();
            updateLogoQuizSetupStatus();
        }

        function startLogoTimer() {
            gameState.logoTime = 600;
            updateLogoTimerDisplay();

            gameState.logoTimerInterval = setInterval(() => {
                gameState.logoTime--;
                updateLogoTimerDisplay();

                if (gameState.logoTime <= 0) {
                    clearInterval(gameState.logoTimerInterval);
                    alert('Time\'s up! Logo Quiz session ended.');
                    finishLogoQuiz();
                }
            }, 1000);
        }

        function updateLogoTimerDisplay() {
            const minutes = Math.floor(gameState.logoTime / 60);
            const seconds = gameState.logoTime % 60;
            const timerElement = document.getElementById('logoTimer');
            timerElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;

            if (gameState.logoTime <= 60) {
                timerElement.classList.add('danger');
            } else if (gameState.logoTime <= 180) {
                timerElement.classList.add('warning');
            }
        }

        // Initialize on page load
        window.addEventListener('load', () => {
            initializePuzzle();
        });
    </script>

    <footer style="text-align: center; padding: 20px; color: white; font-size: 0.9em; margin-top: 30px; font-weight: bold; position: fixed; bottom: 0; left: 0; right: 0; background: rgba(0, 0, 0, 0.5); z-index: 1000;">
        <p>Created by Rakuten141</p>
    </footer>
</body>
</html>
